version: "3"

volumes:
  kafka-logs:
  kraft-combined-logs:

services:
  kafka:
    environment:
      - KAFKA_CLUSTER_ID=KafkaClusterID12345678
      - NODE_ID=999
    container_name: kafka-server
    build:
      dockerfile: Dockerfile
    volumes:
      - type: volume
        source: kafka-logs
        target: /tmp/kafka-logs
      - type: volume
        source: kraft-combined-logs
        target: /tmp/kraft-combined-logs
    ports:
      - "9092:9092"
      - "9093:9093"
    restart: unless-stopped